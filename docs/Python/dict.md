
# 字典（dict）

## 底层实现

- 字典是通过散列表（哈希表）实现的。本质上是顺序表，不过每个元素存储位置的角标，不是又插入顺序决定的，而是由key经过hash算法和其他机制，动态生成的，
即key通过hash散列，生成value应该存储的位置，然后再去存储这个value；
所以dict的添加、删除、查询时间复杂度是o(1)

python中，使用伪随机探测(pseudo-random probing)的散列表(hash table)作为字典的底层数据结构。
因此，只有可哈希的对象才能作为字典的键。可变类型（如列表，字典和集合）就是不可哈希的，因此不能作为字典的键

- 常见的哈希碰撞解决方法
    - 开放寻址法：开放寻址法中，所有的元素都存放在散列表里，当产生哈希冲突时，通过一个探测函数计算出下一个候选位置，
    如果下一个获选位置还是有冲突，那么不断通过探测函数往下找，直到找个一个空槽来存放待插入元素。
    开放地址的意思是除了哈希函数得出的地址可用，当出现冲突的时候其他的地址也一样可用，
    常见的开放地址思想的方法有线性探测再散列，二次探测再散列等，
    这些方法都是在第一选择被占用的情况下的解决方法。
    
   - 再哈希法：这个方法是按顺序规定多个哈希函数，每次查询的时候按顺序调用哈希函数，
   调用到第一个为空的时候返回不存在，调用到此键的时候返回其值。
  

因此，dict的key只能为可hash的对象，即不可变类型，可变类型（如列表，字典和集合）就是不可哈希的，因此不能作为字典的键。
数字、元组、字符串是可哈希对，可以作为字典的键
   