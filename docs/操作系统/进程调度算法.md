# 先了解下高、中、低级调度

## 高级调度
- 高级调度发生在作业对应的新进程创建中，它决定一个进程是否被创建，或者创建后知否能被置为就绪状态，以参与竞争处理机资源从而获得运行。

- 作业是用户要求计算机系统完成的工作，新提交的作业被输入到外存，并保存到批处理后备作业队列中。
- 高级调度根据一定的算法从后备的作业队列中选出若干作业，并分配给必要的资源，为它建立相应的用户作业进程和为其服务的系统进程，最后把它们的程序和数据调入内存，等待进程调度程序对其进行调度。
- 高级调度控制多道程序的道数，调度选择进入主存的作业越多，每个作业获得的CPU时间就越少，所以有时候要限制多道程序的道数。

## 中级调度
- 中级调度是为了使内存中同时存放的进程数目不至于太多，有时需要把某些进程从内存中移到外存中，以减少多道程序的数目。

- 特别是在采用虚拟存储技术的系统中或分时系统中。
- 引入中级调度的主要目的是为了提高内存的利用率和系统吞吐量。它实际上就是存储器中的对换功能。

## 低级调度
- 低级调度的主要功能是根据一定的算法将CPU分派给就绪队列中的某个进程（或内核级线程）。

- 执行低级调度功能的程序称作进程调度程序，由它实现CPU在进程间的切换。低级调度的运行频率很高。
- 在一般的操作系统中必须要有低级调度（进程调度），而且其调度策略的优劣直接影响整个系统的功能。

## 调度准则

- 不同的CPU调度算法具有不同的属性，并可能对某些进程更有利，我们用用很多准则来比较特征对确定最佳算法是产生的影响。

- 吞吐量：吞吐量是用来评估CPU工作量的，它表示单位时间内CPU完成的进程数量
- 周转时间：批处理系统中，从作业提交给系统到作业完成的时间间隔称为周转时间，批处理系统的调度性能主要用周转时间和带权周转时间衡量，时间越短，系统效率越高，作业吞吐量越大
- 就绪等待时间：各种CPU调度算法仅影响进程在就绪队列中所花费的时间，因此更倾向于慨率进程在就绪队列中所花费的时间。
- 响应时间：在交互系统中，提交第一个请求到产生第一个响应所用的时间，成为响应时间



# 进程调度算法
常见的进程调度算法有：
1. 先来先服务
2. 时间片轮转法
3. 最短进程优先
4. 最短剩余时间优先
5. 高响应比优先
6. 多级反馈队列
7. 优先级调度


## 1. 先来先服务

按照作业进入系统的时间先后顺序来执行

是一种非剥夺式的方法

适用于CPU密集型的作业，不适用IO密集型



## 2. 时间片轮转法

也称为时间片调度算法

每次把CPU分配给就绪列队中的第一个作业，执行完固定时间后，该作业让出CPU 然后加入到就绪队列的末尾；
该方法可以略作修改，比如 给不同的作业不同的时间片，或者动态地修改 时间片的长短

该方法是剥夺式的算法

## 3. 最短作业优先
以当前所有的作业 需要的CPU执行时间为标准，选取估计时间最短的作业执行

它是一种非剥夺式的算法

但是它的前提是，需要预先知道作业需要的CPU执行时间，而这个值很难确定

可能出现饥饿现象


## 4. 最短剩余时间优先
SRTF算法是非抢占式的

当一个作业在执行时，有一个新的作业进入了就绪队列，并且新作业需要的CPU运行时间比当前正在执行的作业剩余时间小，
那么就强行切换新作业执行，当前作业进入就绪队列



## 5. 高响应比优先
HRRF算法即考虑作业的的等待时间，也考虑作业的运行时间，缺点是需要每个作业的响应比

响应比的计算方法：

    响应比 = 作业响应时间/作业估计时间 = (估计计算时间+等待时间)/ 作业估计计算时间 = 1+(作业等待时间/作业估计时间)
            
不会出现饥饿现象，是一种剥夺式的算法


## 6. 多级反馈队列
MQF算法是将就绪进程分为多个级别，然后建立相应的多个就绪队列，高优先级的作业分配较少的时间片。

调度程序每次从高一级的就绪队列中选择作业并执行，同一队列中按照先来先服务的原则排队，只有在该级队列为空的情况下，才会从
更低一级的队列中选取

进程的分级可以实现规定；也可以不规定，即进入内存后，加入到高优先的就绪队列中，在执行完时间片之后，如果该进程没有执行完毕，那么将该进程加入到低一级的就绪队列中等待执行，该就绪队列的时间片较高一级的就绪队列的时间片长一些。依次类推，凡是超过运行时间后，就加入到更低一级的就绪队列中，以后给更长的时间片。

## 7. 优先级调度算法
每个进程有一个优先级，调度程序选择当前优先级最高的进程执行。

该算法可分为两种：

抢占式：在当前进程的执行过程中，如果就绪队列出现了优先级更高的进程，那么执行新的进程，该进程被迫暂停，并加入到就绪队列

非抢占式：CPU会吧当前进程执行完成之后，再从就绪队列中选择优先级最高的进程执行